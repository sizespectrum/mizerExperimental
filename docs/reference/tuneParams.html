<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="
The function opens a shiny gadget, an interactive web page. This page has a
side panel with controls for various model parameters and a main panel with
tabs for various diagnostic plots."><title>Launch shiny gadget for tuning parameters — tuneParams • mizerExperimental</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Launch shiny gadget for tuning parameters — tuneParams"><meta property="og:description" content="
The function opens a shiny gadget, an interactive web page. This page has a
side panel with controls for various model parameters and a main panel with
tabs for various diagnostic plots."><meta property="og:image" content="https://sizespectrum.org/mizerExperimental/reference/figures/logo.png"><meta property="og:image:alt" content="mizerExperimental: New features for mizer"><meta name="twitter:card" content="summary"><meta name="twitter:creator" content="@mizer_model"><meta name="twitter:site" content="@mizer_model"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-dark navbar-expand-lg bg-primary"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">mizerExperimental</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">2.4.0</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://sizespectrum.org/mizer">mizer Home</a>
</li>
<li class="nav-item">
  <a class="external-link nav-link" href="https://blog.mizer.sizespectrum.org">Blog</a>
</li>
<li class="nav-item">
  <a class="external-link nav-link" href="https://twitter.com/mizer_model" aria-label="Twitter">
    <span class="fab fa fab fa-twitter fa-lg"></span>
     
  </a>
</li>
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/sizespectrum/mizerExperimental/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Launch shiny gadget for tuning parameters</h1>
      <small class="dont-index">Source: <a href="https://github.com/sizespectrum/mizerExperimental/blob/HEAD/R/tuneParams.R" class="external-link"><code>R/tuneParams.R</code></a></small>
      <div class="d-none name"><code>tuneParams.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p><a href="https://lifecycle.r-lib.org/articles/stages.html#experimental" class="external-link"><img src="figures/lifecycle-experimental.svg" alt="[Experimental]"></a></p>
<p>The function opens a shiny gadget, an interactive web page. This page has a
side panel with controls for various model parameters and a main panel with
tabs for various diagnostic plots.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">tuneParams</span><span class="op">(</span></span>
<span>  <span class="va">params</span>,</span>
<span>  controls <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"predation"</span>, <span class="st">"fishing"</span>, <span class="st">"reproduction"</span>, <span class="st">"other"</span>, <span class="st">"interaction"</span>,</span>
<span>    <span class="st">"resource"</span><span class="op">)</span>,</span>
<span>  tabs <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Spectra"</span>, <span class="st">"Abundance"</span>, <span class="st">"Growth"</span>, <span class="st">"Repro"</span>, <span class="st">"Catch"</span>, <span class="st">"Diet"</span>, <span class="st">"Death"</span>,</span>
<span>    <span class="st">"Resource"</span>, <span class="st">"Rates"</span>, <span class="st">"Sim"</span><span class="op">)</span>,</span>
<span>  match <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"none"</span><span class="op">)</span>,</span>
<span>  preserve <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"erepro"</span>, <span class="st">"reproduction_level"</span>, <span class="st">"R_max"</span><span class="op">)</span>,</span>
<span>  return_app <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>params</dt>
<dd><p>MizerParams object to tune. If missing, the gadget tries to
recover information from log files left over from aborted previous runs.</p></dd>


<dt>controls</dt>
<dd><p>A character vector of names of input parameter control
sections that should be displayed in the sidebar. See "Customisation"
below.</p></dd>


<dt>tabs</dt>
<dd><p>A character vector of names of the tabs that should be displayed
in the main section. See "Customisation" below.</p></dd>


<dt>match</dt>
<dd><p>A character vector. Determines which quantities should be
matched to observations each time the "steady" button is pressed. Possible
entries are <code>"growth"</code> (using <code>matchGrowth()</code>), <code>"biomass"</code> (using
<code>matchBiomasses()</code>) and <code>"yield"</code> (using <code>matchYields()</code>).</p></dd>


<dt>preserve</dt>
<dd><p>Specifies whether the <code>reproduction_level</code> should be
preserved or the maximum reproduction rate <code>R_max</code> or the reproductive
efficiency <code>erepro</code> (Default). See <code>setBevertonHolt()</code> for an explanation
of the <code>reproduction_level</code>.</p></dd>


<dt>return_app</dt>
<dd><p>Boolean. For testing purposes only. When set to TRUE will
return a shinyApp object instead of running the gadget.</p></dd>


<dt>...</dt>
<dd><p>Other params needed by individual tabs.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    

<p>The tuned MizerParams object</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>This gadget is meant for tuning a model to steady state. It is not
meant for tuning the dynamics of the model. That should be done in a second
step using functions like <code>setRmax()</code> or <code>changeResource()</code>.</p>
<p>There is an "Instructions" button near the top left of the gadget that gives
you a quick overview of the user interface.</p>
<p>After you click the "Return" button in the side panel, the function will
return the parameter object in the state at that time, with <code>Rmax</code> set to
<code>Inf</code> and <code>erepro</code> set to the value it had after the last run to steady
state.</p>
<p>At any time the gadget allows the user to download the current params object
as an .rds file via the "Download" button.</p>
    </div>
    <div class="section level2">
    <h2 id="undo-functionality">Undo functionality<a class="anchor" aria-label="anchor" href="#undo-functionality"></a></h2>
    <p>The gadget keeps a log of all steady states you create while working with the
gadget. You can go back to the last steady state by hitting the "Undo"
button. You can go back an arbitrary number of states and also go forward
again. There is also a button to go right back to the initial steady state.</p>
<p>When you leave the gadget by hitting the "Return" button, this log is
cleared. If you stop the gadget from RStudio by hitting the "Stop" button,
then the log is left behind. You can then restart the gadget by calling
<code>tuneParams()</code> without a <code>params</code> argument and it will re-instate the states
from the log.</p>
<p>The log is stored in the tempdir of your current R session, as given by
<code><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempdir()</a></code>. For each steady state you calculate the params objects is in a
file named according to the date and time when it was created.</p>
    </div>
    <div class="section level2">
    <h2 id="customisation">Customisation<a class="anchor" aria-label="anchor" href="#customisation"></a></h2>
    <p>You can customise which functionality is included in the app via the
<code>controls</code> and <code>tabs</code> arguments. You can remove some of the controls and tabs
by providing shorter lists to those arguments. You can also add your own
controls and tabs.</p>
<p>For an entry "foo" in the <code>controls</code> list there needs to be a function
"fooControlUI" that defines the input elements and a function "fooControl"
that processes those inputs to change the params object. You can model your
own control sections on the existing ones that you find in the file
<code>R/tuneParams_controls.R</code>.</p>
<p>For any entry "Foo" or "foo" in the <code>tabs</code> list there needs to be a function
"fooTabUI" that defines the tab layout and a function "fooTab" that
calculates the outputs to be displayed on the tab. You can model your own
tabs on the example tab that you find in the file <code>R/exampleTab.R</code>.</p>
    </div>
    <div class="section level2">
    <h2 id="limitations">Limitations<a class="anchor" aria-label="anchor" href="#limitations"></a></h2>
    <p>The fishing control currently assumes that each species is selected by only
one gear. It allows the user to change the parameters for that gear. It also
enforces the same effort for all gears. It sets all efforts to that for the
first gear and then allows the user to change that single effort value.</p>
    </div>

  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by Gustav Delius.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer></div>

  

  

  </body></html>

